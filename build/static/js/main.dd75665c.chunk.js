(this["webpackJsonpbands-react-challenge"]=this["webpackJsonpbands-react-challenge"]||[]).push([[0],{23:function(e,t,n){},34:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(17),r=n.n(c),s=(n(34),n(4)),o=n(16),i=n(29),l="[Auth] Login",d="[Auth] Logout",u="[Bands] Get_all_bands",b="[Albums] Get_all_albums",j="[Genres] Get_all_genres",m=Object(o.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{email:t.payload.email,isLogged:!0};case d:return{isLogged:!1};default:return e}},bands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{bands:t.payload.bands};default:return e}},albums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{albums:t.payload.albums};default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{genres:t.payload.genres};default:return e}}}),h="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,p=Object(o.d)(m,h(Object(o.a)(i.a))),f=(n(40),n(41),n(23),n(9)),O=n(3),x=n(11),v=n(19),g=n(0),N=function(e){var t=e.isAuthenticated,n=e.component,a=Object(v.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",a.location.pathname),Object(g.jsx)(O.b,Object(x.a)(Object(x.a)({},a),{},{component:function(e){return t?Object(g.jsx)(n,Object(x.a)({},e)):Object(g.jsx)(O.a,{to:"/login"})}}))},y=function(e){var t=e.isAuthenticated,n=e.component,a=Object(v.a)(e,["isAuthenticated","component"]);return Object(g.jsx)(O.b,Object(x.a)(Object(x.a)({},a),{},{component:function(e){return t?Object(g.jsx)(O.a,{to:"/"}):Object(g.jsx)(n,Object(x.a)({},e))}}))},w=function(e){var t=e.band;return Object(g.jsxs)("div",{className:"card text-dark bg-light m-4 w300 animate__animated animate__fadeIn ",children:[Object(g.jsx)("div",{className:"card-header fs-4 fw-bold",children:t.name}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("h5",{className:"card-title",children:["Genre: ",t.genreCode]}),Object(g.jsxs)("p",{className:"card-text",children:["Year: ",t.year]}),Object(g.jsxs)("p",{className:"card-text",children:["Country: ",t.country]}),Object(g.jsx)(f.b,{className:"btn btn-link float-end",to:"/details/".concat(t.id),children:"See More..."})]})]})},_=function(){var e=Object(s.c)((function(e){return e.bands.bands}))||[];return Object(g.jsx)("div",{className:"d-flex justify-content-center flex-wrap",children:e.length>0&&e.map((function(e){return Object(g.jsx)(w,{band:e},e.id)}))})},k=function(){var e=Object(s.c)((function(e){return e.bands.bands}))||[],t=Object(s.c)((function(e){return e.albums.albums}))||[],n={},a=[],c=Object(O.g)().id;return e.length>0&&(n=e.find((function(e){return e.id===Number(c)})),a=t.filter((function(e){return e.bandId===Number(c)}))),Object(g.jsx)("div",{children:null!==n||n?Object(g.jsxs)("div",{className:"card text-dark bg-light m-4 p-4 animate__animated animate__fadeIn ",children:[Object(g.jsx)("div",{className:"card-header fs-2 fw-bold",children:n.name}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("h5",{className:"card-title fs-4",children:["Genre: ",n.genreCode]}),Object(g.jsxs)("p",{className:"card-text fs-4 mt-3",children:["Year: ",n.year]}),Object(g.jsxs)("p",{className:"card-text fs-4",children:["Country: ",n.country]}),Object(g.jsx)("h4",{className:"fs-4",children:"Members"}),Object(g.jsx)("ul",{className:"list-group fs-4",children:n.members.map((function(e){return Object(g.jsx)("li",{className:"list-group-item fs-5",children:e.name},e.name)}))}),a.length>0&&Object(g.jsx)("h4",{className:"fs-4 mt-3",children:"Albums"}),Object(g.jsx)("ul",{className:"list-group fs-4 mt-3",children:a.map((function(e){return Object(g.jsxs)("li",{className:"list-group-item fs-5",children:[e.name," - ",e.year]},e.name)}))})]}),Object(g.jsx)(f.b,{className:"btn btn-link float-end",to:"/bands",children:"Go Back..."})]}):void 0})},C=n(14),S=n(7),A=n.n(S),L=n(12),E=function(e){return{type:u,payload:{bands:e}}},G=n(18),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(C.a)(t,2),c=n[0],r=n[1],s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)},o=function(e){var t=e.target;r(Object(x.a)(Object(x.a)({},c),{},Object(G.a)({},t.name,t.value)))};return[c,o,s]},D=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.genres.genres}))||[],n=I({param:""}),a=Object(C.a)(n,3),c=a[0],r=a[1],o=a[2],i=c.param,l=function(t){var n;e((n=t,function(){var e=Object(L.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/improvein/dev-challenge/bands?genreCode=".concat(n));case 2:return a=e.sent,e.next=5,a.json();case 5:a=e.sent,t(E(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(g.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(g.jsxs)("div",{className:"container-fluid",children:[Object(g.jsx)(f.b,{className:"navbar-brand",to:"/bands",children:"Band React App"}),Object(g.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(g.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(f.b,{className:"nav-link active","aria-current":"page",to:"/bands",children:"Home"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{className:"nav-link",onClick:function(){e({type:d,payload:{email:""}})},children:"Logout"})}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Choose a Genre"}),Object(g.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:t.map((function(e){return Object(g.jsxs)("li",{children:[" ",Object(g.jsx)("span",{className:"dropdown-item",onClick:function(){return l(e.code)},children:e.name})]},e.code)}))})]})]}),Object(g.jsxs)("form",{className:"d-flex",onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(L.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/improvein/dev-challenge/bands?q=".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:a=t.sent,n(E(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i)),o()},children:[Object(g.jsx)("input",{className:"form-control me-2",type:"text",placeholder:"Search by Name","aria-label":"Search",name:"param",autoComplete:"off",value:i,onChange:r}),Object(g.jsx)("button",{className:"btn btn-success",type:"submit",children:"Search"})]})]})]})})},B=function(e){return{type:b,payload:{albums:e}}},q=function(e){return{type:j,payload:{genres:e}}},F=function(){var e=Object(s.b)();return e(function(){var e=Object(L.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/improvein/dev-challenge/bands");case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,t(E(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(L.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/improvein/dev-challenge/albums");case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,t(B(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(L.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/improvein/dev-challenge/genre");case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,t(q(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(D,{}),Object(g.jsx)("div",{className:"container mt-2",children:Object(g.jsxs)(O.d,{children:[Object(g.jsx)(O.b,{exact:!0,path:"/bands",component:_}),Object(g.jsx)(O.b,{exact:!0,path:"/details/:id",component:k}),Object(g.jsx)(O.a,{to:"/bands"})]})})]})},M=function(){var e=Object(s.b)(),t=I({email:"nando@gmail.com",password:"123456"}),n=Object(C.a)(t,2),a=n[0],c=n[1],r=a.email,o=a.password;return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-md-12 min-vh-100 d-flex flex-column justify-content-center",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-6 col-md-8 mx-auto",children:Object(g.jsxs)("div",{className:"card rounded shadow shadow-sm",children:[Object(g.jsx)("div",{className:"card-header",children:Object(g.jsx)("h3",{className:"mb-0",children:"Login"})}),Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("form",{className:"form",role:"form",autoComplete:"off",onSubmit:function(t){t.preventDefault(),"nando@gmail.com"===r&&"123456"===o&&(e(function(e){return{type:l,payload:{email:e}}}(r)),localStorage.setItem("email",r),localStorage.setItem("isLogged","true"))},children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"email",className:"form-control form-control-lg mt-2 mb-3",id:"email",placeholder:"email",autoComplete:"off",name:"email",value:r,onChange:c,required:""})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{type:"password",className:"form-control form-control-lg mt-2 mb-3",id:"password",placeholder:"password",autoComplete:"off",name:"password",value:o,onChange:c,required:""}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Enter your password too!"})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-success btn-lg float-right",id:"btnLogin",children:"Login"})]})})]})})})})})})},P=function(){var e=Object(s.c)((function(e){return e.auth.isLogged}))||!1;return Object(g.jsx)(f.a,{children:Object(g.jsx)("div",{children:Object(g.jsxs)(O.d,{children:[Object(g.jsx)(y,{exact:!0,path:"/login",component:M,isAuthenticated:e}),Object(g.jsx)(N,{path:"/",component:F,isAuthenticated:e})]})})})};function J(){return Object(g.jsx)(s.a,{store:p,children:Object(g.jsx)("div",{children:Object(g.jsx)(P,{})})})}r.a.render(Object(g.jsx)(J,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.dd75665c.chunk.js.map